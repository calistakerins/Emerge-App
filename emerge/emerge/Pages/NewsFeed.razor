@page "/news"
@inherits LayoutComponentBase
@using emerge.Data
@using emerge.Controller

<MudContainer Class="mt-16">

    <MudDivider DividerType="DividerType.Middle" Class="my-20" />

    @foreach (var alertInfo in feedController.getAlertList()) //loop through alert list
    {
        <MudCard Class="ma-8 pa-4 rounded-xl" Outlined="true" Style="@($"color:{Colors.Shades.Black}; height: 30%; width: 80%")">
            <MudCardHeader>
                <CardHeaderContent>
                    <MudText Typo="Typo.h4" Style="font-weight:bold">@alertInfo.Title</MudText>
                    <MudText Typo="Typo.h6">Priority: 5</MudText>
                    <MudText Typo="Typo.h6" Class="mt-4">@alertInfo.Author</MudText>
                    <MudText Typo="Typo.body1">
                        description...
                    </MudText>
                </CardHeaderContent>
                <CardHeaderActions>
                    <MudText Typo="Typo.subtitle2" Class="ms-4">
                        @alertInfo.DateTime.ToString("MM/dd/yyyy")
                    </MudText>
                    <MudText Typo="Typo.subtitle2" Class="ms-4">
                        @alertInfo.DateTime.ToString("HH:mm")
                    </MudText>
                </CardHeaderActions>
            </MudCardHeader>

        </MudCard>

        @foreach (var update in alertInfo.Updates) //loop through updates
        {
                
            <MudCard Class="ma-2 pa-4 rounded-xl" Style="@($"color:{Colors.Shades.Black}; height: 15%; width: 70%")">
                <MudCardHeader>
                    <CardHeaderContent>

                        <MudText Typo="Typo.h6">UPDATE</MudText>
                        <MudText Typo="Typo.subtitle1">@update.Description</MudText>

                    </CardHeaderContent>
                    <CardHeaderActions>
                        <MudText Typo="Typo.subtitle2" Class="ms-4">
                            @update.DateTime.ToString("MM/dd/yyyy")
                        </MudText>
                        <MudText Typo="Typo.subtitle2" Class="ms-4">
                            @update.DateTime.ToString("HH:mm")
                        </MudText>
                    </CardHeaderActions>
                </MudCardHeader>
            </MudCard>
        }
    }
</MudContainer>


@code {

    private MudTheme Theme = new MudTheme();
    private NewsFeedController feedController = new NewsFeedController();
    
    
    //list of alerts to display


    //List of Alert Infos
    //loop through list, one component for each iteration, pass in current AlertInfo object
    
}
